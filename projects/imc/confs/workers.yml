# Customize this file to include compose configurations common to bluprints
version: '3'

services:

  proxy:
    environment:
      ACTIVATE: 0

  backend:
    environment:
      ACTIVATE: 0

  proxy:
    environment:
      ACTIVATE: 0

  neo4j:
    environment:
      ACTIVATE: 0

  frontend:
    environment:
      ACTIVATE: 0

  ftp:
    environment:
      ACTIVATE: 0

  # celery:
  #   environment:
  #     DEBUG_LEVEL: INFO
  #     APP_MODE: production
  #   depends_on:
  #     - rabbit
  #     - mongodb
  #   networks:
  #     worker_net:

  # celeryui:
  #   # Production command:
  #   command: flower --basic_auth=${CELERYUI_USER}:${CELERYUI_PASSWORD} --port=${CELERYUI_PORT} --persistent --db=${CELERYUI_DBDIR}/flower --certfile=/ssl/real/fullchain1.pem --keyfile=/ssl/real/privkey1.pem -A restapi.flask_ext.flask_celery.worker.celery_app -n flower_monitor
  #   environment:
  #     DEBUG_LEVEL: INFO
  #     APP_MODE: production
  #   depends_on:
  #     - rabbit
  #     - mongodb
  #   networks:
  #     worker_net:

  rabbit:
    ports:
      - ${RABBITMQ_PORT}:${RABBITMQ_PORT}

  mongodb:
    ports:
      - ${MONGO_PORT}:${MONGO_PORT}

  mongoui:
    ports:
      - 8081:8081