# Customize this file to include compose configurations common to bluprints
version: '3'

services:

  neo4j:
    ports:
      - 9090:7474
    # ports:
    #   - 9090:7473
    # volumes:
    #   - letsencrypt_certs:/ssl
    environment:
      ACTIVATE: 1

  proxy:
    environment:
      ACTIVATE: 1
      SMTP_ADMIN: ${SMTP_ADMIN}
    volumes:
      - ${SUBMODULE_DIR}/rapydo-confs/confs/nginx/production-a2.conf:/etc/nginx/sites-enabled/production
    depends_on:
      # nothing is not allowed... 
      - neo4j

  mongodb:
    environment:
      ACTIVATE: 0

  backend:
    environment:
      ACTIVATE: 0

  frontend:
    environment:
      ACTIVATE: 0

  ftp:
    environment:
      ACTIVATE: 0

  celery:
    environment:
      ACTIVATE: 0

  celeryui:
    environment:
      ACTIVATE: 0
