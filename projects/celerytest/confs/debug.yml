version: '3'
#######################
#Â Link services inside API

services:
  backend:
    # command: sleep infinity
    environment:
      APP_MODE: debug
      DEBUG_LEVEL: VERBOSE
      ACTIVATE: 1
    ports:
      - 8080:5000
    volumes:
      - ../submodules/http-api/restapi:/usr/local/lib/python3.6/dist-packages/restapi
      - ../submodules/utils/utilities:/usr/local/lib/python3.6/dist-packages/utilities

  frontend:
    ports:
      - 80:5000
    environment:
      APP_MODE: debug
      BACKEND_PORT: 8080
      ACTIVATE: 1

  sqlalchemyui:
    # volumes:
    #   - restlitedb:/dbs
    ports:
      - 81:8888

  swaggerui:
    ports:
      - 7777:80

  celery:
    volumes:
      - ../submodules/http-api/restapi:/usr/local/lib/python3.6/dist-packages/restapi
      - ../submodules/utils/utilities:/usr/local/lib/python3.6/dist-packages/utilities
