<div 
	ng-if="ctrl.loading" 
	ng-include="main.templateDir + 'loader.html'">
</div>

<div ng-controller='GroupsController as ctrl'>

<div class='panel panel-default' ng-if='!datactrl.loading'>
<!-- PANEL HEADING START -->
<div class='panel-heading'>
	<h4 class='panel-title'>
		<i class='material-icons'>face</i> Groups list
	</h4>
</div>
<!-- PANEL HEADING END -->

<!-- PANEL BODY + TABLE START -->
<div class='panel-body'>
<div class="table-responsive">
	<table 
		ng-show="ctrl.groups && ctrl.groups.length" 
		class='table table-hover table-condensed' 
		ts-filter-fields="shortname,fullname,_coordinator[0].email"
		ts-wrapper>
		<thead>
	        <tr>
	        	<th ts-criteria='shortname'>Short name</th>
	        	<th ts-criteria='fullname'>Full name</th>
	        	<th ts-criteria='_coordinator[0].email'>Coordinator</th>
	            <th colspan=2 style='width:1%;'></th>
	        </tr>
	    </thead>

		<tbody>
			<tr ng-repeat="(key, data) in ctrl.groups" ts-repeat>

					<td>{{data.shortname}}</td>
					<td>{{data.fullname}}</td>
					<td>{{data._coordinator[0].email}}</td>

					<td 
						ng-click='ctrl.updateGroup(key)'>
						<i class='material-icons'>edit</i>
					</td>
					<td 
						ng-click='ctrl.deleteGroup(data.id)'>
						<i class='material-icons palette-Red-500 text'>delete</i>
					</td>

			</tr>
		</tbody>
		</table>
</div>
</div>
<!-- PANEL BODY +  TABLE END -->


<!-- PANEL FOOTER START -->
<div class="panel-footer">
<div class='text-right'>
	<button class="btn btn-success" ng-click="ctrl.addNewGroup()">
		Add new group
	</button>
</div>
</div>
<!-- PANEL FOOTER END -->

</div>
<!-- PANEL END -->

</div>
